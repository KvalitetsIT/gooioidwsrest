{
   "apps":{
      "tls": {
      },
      "http":{
         "servers":{
            "wsc":{
               "automatic_https":{
                  "disable": true
	       },
               "listen":[
                  ":{env.WSC_PORT}"
               ],
               "routes":[
                  {
                     "handle":[
                        {
                           "handler":"subroute",
                           "routes":[
                              {
                                 "handle":[
				    {
                                       "handler": "oioidwsrestwsc",
				       "mongo_host": "{env.WSC_MONGO_HOST}",
				       "mongo_db": "{env.WSC_MONGO_DB}",
				       "sts_url": "{env.WSC_STS_URL}",
                                       "client_cert_file": "{env.WSC_CLIENT_CERTIFICATE}",
                                       "client_key_file": "{env.WSC_CLIENT_KEY}",
                                       "trust_cert_files": [{env.WSC_TRUST_CERTLIST}],
                                       "service_endpoint": "http://{env.WSC_SERVICE_ENDPOINT_HOST}:{env.WSC_SERVICE_ENDPOINT_PORT}/{env.WSC_SERVICE_ENDPOINT_CONTEXT}",
                                       "service_audience": "{env.WSC_SERVICE_AUDIENCE}",
                                       "session_data_url": "{env.WSC_SESSION_DATA_URL}"
                                    },
                                    {
                                       "handler":"reverse_proxy",
                                       "transport":{
                                          "protocol":"http",
					  "tls": {
					        "insecure_skip_verify": true,
						"client_certificate_file": "{env.WSC_CLIENT_CERTIFICATE}",
						"client_certificate_key_file": "{env.WSC_CLIENT_KEY}"
					   },
                                       },
                                       "upstreams":[
                                          {
                                             "dial":"{env.WSC_SERVICE_ENDPOINT_HOST}:{env.WSC_SERVICE_ENDPOINT_PORT}"
                                          }
                                       ]
                                    }
                                 ],
                                 "match":[
                                    {
                                       "path":[
                                          "/"
                                       ]
                                    }
                                 ]
                              }
                           ]
                        }
                     ]
                  }
               ]
            }
         }
      }
   }
}
